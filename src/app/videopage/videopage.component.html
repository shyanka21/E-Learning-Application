
<!-- Sidebar -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<div class="w3-sidebar w3-light-grey w3-bar-block" style="width:20%" [ngClass]="loading? 'blur' : ''">
    <h3 class="w3-bar-item w3-button" [routerLink]="['/dash']">Home</h3>
    <div class="w3-bar-item w3-button mt-4" (click)="logout()">Logout</div>
</div>

<!-- Page Content -->
<div style="margin-left:20%" [ngClass]="loading? 'blur' : ''">
    <div class="container w-100">
        <div class="row p-4">
            <h3 class="pt-4">{{ video_title }}</h3>
        </div>
        <div class="row px-4 py-0">
            <div class="col-12 px-4 py-2 mx-0 my-4 text-center">
                <iframe *ngIf='video_url' 
                    class="iframe-pdf"
                    [src]='sanitized_video_url'
                    frameBorder="0"
                    scrolling="yes"
                    width="720" 
                    height="720">
                </iframe>
            </div>
        </div>
        <div class="mx-0 px-0 py-2 row">
            <div class="col-12 text-center">
                <button class="btn border btn-outline" (click)="goToSurvey()">Start Survey</button>
            </div>
        </div>
        <div class="row px-4 pt-4">
            <div class="col-12 px-4 mx-0 my-4">
                <div class="col-12 feedback-card p-3">
                    <h2>Feedback</h2>
                    <hr>
                    <ng-container *ngFor="let feedback of feedbacks">
                        <div class="row">
                            <div class="col-12">
                                <div class="row">
                                    <div class="col-12">
                                        <h4>{{feedback.name}}</h4>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <p>{{feedback.text}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>

                    <br>
                    <textarea class="form-control w-100" placeholder="Add your feedback" rows="3" [(ngModel)]="feedback_text"></textarea>
                    <button class="btn btn-primary mt-1" (click)="submitFeedback()">Submit</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="loading" class="overlay">
  <img src="assets/loading_anim.gif" alt="Your page is loading..." class="loader"/>
</div>
      